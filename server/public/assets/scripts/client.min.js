var myApp=angular.module("myApp",["ngRoute"]);myApp.config(["$routeProvider",function(a){a.when("/home",{templateUrl:"/views/home.html",controller:"LoginController"}).when("/register",{templateUrl:"/views/register.html",controller:"LoginController"}).when("/user",{templateUrl:"/views/user.html",controller:"UserController"}).when("/trips",{templateUrl:"/views/trips.html",controller:"TripController"}).when("/packingList",{templateUrl:"/views/packingList.html",controller:"PackingListController"}).otherwise({redirectTo:"home"})}]),myApp.controller("LoginController",["$scope","$http","$location",function(a,b,c){a.user={username:"",password:""},a.message="",a.login=function(){""==a.user.username||""==a.user.password?a.message="Enter your username and password!":(console.log("sending to server...",a.user),b.post("/",a.user).then(function(b){b.data.username?(console.log("success: ",b.data),console.log("redirecting to user page"),c.path("/user")):(console.log("failure: ",b),a.message="Wrong!!")}))},a.registerUser=function(){""==a.user.username||""==a.user.password?a.message="Choose a username and password!":(console.log("sending to server...",a.user),b.post("/register",a.user).then(function(a){console.log("success"),c.path("/home")},function(b){console.log("error"),a.message="Please try again."}))}}]),myApp.controller("PackingListController",[function(){console.log("packingListController")}]),myApp.controller("TripController",["PackingService",function(a){var b=this;console.log("TripController"),b.log=a.log}]),myApp.controller("UserController",["$scope","$http","$location",function(a,b,c){console.log("checking user"),b.get("/user").then(function(b){b.data.username?(a.userName=b.data.username,console.log("User Data: ",a.userName)):c.path("/home")}),a.logout=function(){b.get("/user/logout").then(function(a){console.log("logged out"),c.path("/home")})}}]),myApp.factory("PackingService",[function(){var a="inside factory";return console.log(a),{log:a}}]);